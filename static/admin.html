<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Admin Dashboard - AIC 2025</title>
    <link rel="stylesheet" href="/static/admin.css?v=2">
</head>
<body>
    <div class="container">
        <header>
            <h1>Admin Dashboard - AIC 2025</h1>
            <div class="header-right">
                <a href="/leaderboard-ui" target="_blank" class="btn btn-secondary">
                    View Leaderboard
                </a>
            </div>
        </header>

        <!-- Current Status Panel -->
        <section class="status-panel" id="status-panel">
            <div class="status-card">
                <h3>Active Question</h3>
                <div class="status-value" id="active-question">-</div>
            </div>
            <div class="status-card">
                <h3>Time Remaining</h3>
                <div class="status-value" id="time-remaining">-</div>
            </div>
            <div class="status-card">
                <h3>Submissions</h3>
                <div class="status-value" id="teams-submitted">0</div>
            </div>
            <div class="status-card">
                <h3>Completed</h3>
                <div class="status-value" id="teams-completed">0</div>
            </div>
        </section>

        <!-- Main Control Panel - Simplified -->
        <section class="control-panel">
            <div class="panel-card full-width">
                <h2>Question Control</h2>
                
                <div class="control-row">
                    <div class="form-group">
                        <label for="question-id">Question ID (1-22)</label>
                        <input 
                            type="number" 
                            id="question-id" 
                            placeholder="Enter question ID" 
                            min="1" 
                            max="22"
                            value="1"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="time-limit">Time Limit (seconds)</label>
                        <input 
                            type="number" 
                            id="time-limit" 
                            placeholder="Default: 300" 
                            min="60" 
                            max="600"
                            value="300"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="buffer-time">Buffer Time (seconds)</label>
                        <input 
                            type="number" 
                            id="buffer-time" 
                            placeholder="Default: 10" 
                            min="0" 
                            max="60"
                            value="10"
                        >
                    </div>
                </div>

                <div class="question-info" id="question-info">
                    <!-- Question details will be shown here -->
                </div>
                
                <div class="button-row">
                    <button class="btn btn-primary btn-large" onclick="startQuestion()">
                        START QUESTION
                    </button>
                    <button class="btn btn-danger btn-large" onclick="stopCurrentQuestion()">
                        STOP QUESTION
                    </button>
                    <button class="btn btn-warning btn-large" onclick="resetAll()">
                        RESET ALL
                    </button>
                </div>
            </div>
        </section>

        <!-- All Sessions Status -->
        <section class="sessions-panel">
            <h2>All Sessions Status</h2>
            <div class="table-wrapper">
                <table class="sessions-table" id="sessions-table">
                    <thead>
                        <tr>
                            <th>Question</th>
                            <th>Type</th>
                            <th>Status</th>
                            <th>Time Limit</th>
                            <th>Submissions</th>
                            <th>Completed</th>
                        </tr>
                    </thead>
                    <tbody id="sessions-tbody">
                        <tr>
                            <td colspan="6" class="loading">Loading sessions...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Response Log -->
        <section class="log-panel">
            <h2>Activity Log</h2>
            <div class="log-container" id="log-container">
                <div class="log-entry log-info">System initialized. Ready to start questions.</div>
            </div>
        </section>
    </div>

    <script src="/static/admin.js?v=2"></script>
</body>
</html>
